{"version":3,"sources":["datetime.mask.js"],"names":["DATETIME_MASK_SETTINGS","format","DatetimeMask","BaseMask","getType","getValue","value","settings","mergedSettings","_getMergedSettings","mask","getMask","CustomMask","shared","getRawValue","maskedValue","date","parse","validate","isValid","mergeSettings","i","length","replace"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AAEA,MAAMA,sBAAsB,GAAG;AAC7BC,EAAAA,MAAM,EAAE;AADqB,CAA/B;;AAIe,MAAMC,YAAN,SAA2BC,aAA3B,CAAoC;AACjD,SAAOC,OAAP,GAAiB;AACf,WAAO,UAAP;AACD;;AAEDC,EAAAA,QAAQ,CAACC,KAAD,EAAQC,QAAR,EAAkB;AACxB,QAAIC,cAAc,GAAG,KAAKC,kBAAL,CAAwBF,QAAxB,CAArB;;AACA,QAAIG,IAAI,GAAG,KAAKC,OAAL,CAAaL,KAAb,EAAoBE,cAApB,CAAX;AAEA,WAAOI,gBAAWC,MAAX,CAAkBR,QAAlB,CAA2BC,KAA3B,EAAkC;AAAEI,MAAAA;AAAF,KAAlC,CAAP;AACD;;AAEDI,EAAAA,WAAW,CAACC,WAAD,EAAcR,QAAd,EAAwB;AACjC,QAAIC,cAAc,GAAG,KAAKC,kBAAL,CAAwBF,QAAxB,CAArB;;AACA,WAAOS,qBAAKC,KAAL,CAAWF,WAAX,EAAwBP,cAAc,CAACP,MAAvC,CAAP;AACD;;AAEDiB,EAAAA,QAAQ,CAACZ,KAAD,EAAQC,QAAR,EAAkB;AACxB,QAAIQ,WAAW,GAAG,KAAKV,QAAL,CAAcC,KAAd,EAAqBC,QAArB,CAAlB;;AACA,QAAIC,cAAc,GAAG,KAAKC,kBAAL,CAAwBF,QAAxB,CAArB;;AACA,QAAIY,OAAO,GAAGH,qBAAKG,OAAL,CAAaJ,WAAb,EAA0BP,cAAc,CAACP,MAAzC,CAAd;;AACA,WAAOkB,OAAP;AACD;;AAEDV,EAAAA,kBAAkB,CAACF,QAAD,EAAW;AAC3B,WAAO,MAAMa,aAAN,CAAoBpB,sBAApB,EAA4CO,QAA5C,CAAP;AACD;;AAEDI,EAAAA,OAAO,CAACL,KAAD,EAAQC,QAAR,EAAkB;AACvB,QAAIG,IAAI,GAAG,EAAX;;AAEA,SAAK,IAAIW,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGd,QAAQ,CAACN,MAAT,CAAgBqB,MAApC,EAA4CD,CAAC,EAA7C,EAAiD;AAC/CX,MAAAA,IAAI,IAAIH,QAAQ,CAACN,MAAT,CAAgBoB,CAAhB,EAAmBE,OAAnB,CAA2B,YAA3B,EAAyC,GAAzC,CAAR;AACD;;AAED,WAAOb,IAAP;AACD;;AApCgD","sourcesContent":["import BaseMask from './_base.mask';\nimport CustomMask from './custom.mask';\nimport date from 'date-and-time';\n\nconst DATETIME_MASK_SETTINGS = {\n  format: 'DD/MM/YYYY HH:mm:ss',\n};\n\nexport default class DatetimeMask extends BaseMask {\n  static getType() {\n    return 'datetime';\n  }\n\n  getValue(value, settings) {\n    let mergedSettings = this._getMergedSettings(settings);\n    let mask = this.getMask(value, mergedSettings);\n\n    return CustomMask.shared.getValue(value, { mask });\n  }\n\n  getRawValue(maskedValue, settings) {\n    let mergedSettings = this._getMergedSettings(settings);\n    return date.parse(maskedValue, mergedSettings.format);\n  }\n\n  validate(value, settings) {\n    let maskedValue = this.getValue(value, settings);\n    let mergedSettings = this._getMergedSettings(settings);\n    let isValid = date.isValid(maskedValue, mergedSettings.format);\n    return isValid;\n  }\n\n  _getMergedSettings(settings) {\n    return super.mergeSettings(DATETIME_MASK_SETTINGS, settings);\n  }\n\n  getMask(value, settings) {\n    let mask = '';\n\n    for (let i = 0; i < settings.format.length; i++) {\n      mask += settings.format[i].replace(/[a-zA-Z]+/g, '9');\n    }\n\n    return mask;\n  }\n}\n"]}